\chapter{Definição de Requisitos}
\label{sec-requisitos}
\vspace{-1cm}

\vitor{Está sendo utilizado o \textit{template} que lista as estórias de usuário. Existe também um \textit{template} para os requisitos funcionais, basta modificar o arquivo \texttt{ch2-} que está sendo incluído no documento principal.}

Esta seção descreve o resultado da atividade de levantamento de requisitos.
A Subseção~\ref{sec-requisitos-proposito} resume de forma geral o propósito do sistema e a motivação para seu desenvolvimento. 
A Subseção~\ref{sec-requisitos-minimundo} descreve o minimundo do sistema, apresentando superficialmente suas principais características. 
A Subseção~\ref{sec-requisitos-usuario} lista os requisitos de usuário do sistema, na forma de estórias de usuário e requisitos não-funcionais. 




\section{Descrição do Propósito do Sistema}
\label{sec-requisitos-proposito}

\vitor{Utilizando 1 a 3 parágrafos, estabelecer o contexto que motiva o desenvolvimento do sistema em questão e descrever seu propósito.}



\section{Descrição do Minimundo}
\label{sec-requisitos-minimundo}

\vitor{De forma mais detalhada (vários parágrafos, possivelmente dividir em subseções), descrever o minimundo do sistema, ou seja, o domínio no qual ele se encaixa, quais os problemas que pretende resolver, por meio de quais funcionalidades.}



\section{Requisitos de Usuário}
\label{sec-requisitos-usuario}

\vitor{Listar os principais \textit{stakeholders} do projeto no parágrafo abaixo e preencher as tabelas de estórias de usuário, requisitos não-funcionais e regras de negócio, com atenção aos identificadores e \textit{labels}.}

Tomando por base o contexto do sistema descrito na Seção~\ref{sec-requisitos-minimundo} e considerando como principais \textit{stakeholders} \hl{(listar aqui os principais stakeholders do projeto)}, foram identificadas estórias de usuário e requisitos não-funcionais.

As estórias de usuário são apresentadas na Tabela~\ref{tbl-requisitos-uss} e os requisitos não-funcionais globais (ou seja, aqueles que não são caracterizados como critérios de aceitação de estórias de usuário específicas) na Tabela~\ref{tbl-requisitos-rnfs}.

% Define contador e identificador para estórias de usuário.
\newcounter{uscount}
\renewcommand*\theuscount{US-\arabic{uscount}}
\newcommand*\US{\refstepcounter{uscount}\theuscount}
\setcounter{uscount}{0}

% Define uma macro para as linhas de user stories.
% Usar \userstory{label}{dependências}{prioridade}{descrição}{critérios de qualidade (usando \item)}.
\newcommand{\userstory}[5]{
	\\\hline
	\cellcolor{lightgray}\textbf{ID:} & \US\label{#1} & 
	\cellcolor{lightgray}\textbf{Depende:} & #2 & 
	\cellcolor{lightgray}\textbf{Prioridade:} & #3 \\\hline
	\cellcolor{lightgray}\textbf{Descrição:} & 
	\multicolumn{5}{|p{12cm}|}{#4}\\\hline
	\cellcolor{lightgray}\parbox{2.5cm}{\raggedleft \textbf{Critérios de\\Aceitação:}} & 
	\multicolumn{5}{|p{12cm}|}{
		\parbox{12cm}{
			\begin{enumerate}[leftmargin=15mm,label=-- CA\arabic*:]\itemsep-2mm
				#5
			\end{enumerate}
		}		
	}\\\hline
	\multicolumn{6}{c}{}
}

\vitor{A tabela abaixo traz exemplos de estórias de usuário: genérico (\ref{us-exemplo-01}), de cadastro/CRUD (\ref{us-exemplo-02}) e de consulta (\ref{us-exemplo-03}). Note que há um padrão de critérios de aceitação para estórias de cadastro e de consulta. As dependências são especificadas por meio dos IDs das outras estórias de usuário das quais aquela estória depende, separadas por vírgula. Já a prioridade deve ser especificada com um dos seguintes valores: Alta, Média ou Baixa.}

\begin{longtable}{|r|p{1.3cm}|r|p{4cm}|r|p{1.3cm}|}
\caption{Estórias de Usuário.}
\label{tbl-requisitos-uss}

% Especificar as estórias de usuário abaixo, utilizando a macro, substituindo os exemplos.
\userstory{us-exemplo-01}{}{Baixa}
{\hl{Genérico: } Como \hl{ator}, quero \hl{função}, para \hl{finalidade}.}
{
\item Critério de aceitação 1;
\item Critério de aceitação 2;
\item Critério de aceitação N.
}

\userstory{us-exemplo-02}{\ref{us-exemplo-01}}{Média}
{\hl{Cadastro/CRUD: } Como \hl{ator}, quero cadastrar \hl{objeto}, para \hl{finalidade}.}
{
\item Para cadastrar um \hl{objeto} devem ser informados \hl{campos};
\item Um \hl{objeto} não pode ter as seguintes informações alteradas: \hl{campos};
\item A consulta pode ser feita por \hl{campos};
\item \hl{Objetos} relacionados a \hl{outros objetos} não podem ser excluídos;
\item Alterações ou exclusões devem ser comunicadas e/ou deve ser requerida confirmação.
}

\userstory{us-exemplo-03}{\ref{us-exemplo-01}, \ref{us-exemplo-02}}{ou Alta}
{\hl{Consulta: } Como \hl{ator}, quero consultar \hl{informações}, para \hl{finalidade}.}
{
\item Para realizar a consulta, o usuário deve informar como parâmetros: \hl{parâmetros};
\item Devem ser apresentadas as seguintes informações para o usuário: \hl{campos}.
}
\end{longtable}


% Define contador e identificador para requisitos não funcionais.
% Usar \RNF\label{rnf-nome-do-label} para cada requisito definido.
\newcounter{rnfcount}
\renewcommand*\thernfcount{RNF-\arabic{rnfcount}}
\newcommand*\RNF{\refstepcounter{rnfcount}\thernfcount}
\setcounter{rnfcount}{0}

% Tabela de requisitos não funcionais.
\begin{longtable}{|c|p{8.3cm}|c|c|}
	\caption{Requisitos Não Funcionais.}
	\label{tbl-requisitos-rnfs} \\\hline 
	
	% Cabeçalho e repetição do mesmo em cada nova página. Manter como está.
	\rowcolor{lightgray}
	\textbf{ID} & \textbf{Descrição} & \textbf{Categoria} & \textbf{Prioridade} \\\hline		
	\endfirsthead
	\hline
	\rowcolor{lightgray}
	\textbf{ID} & \textbf{Descrição} & \textbf{Categoria} & \textbf{Prioridade} \\\hline		
	\endhead
	
	% Especificar os requisitos abaixo, substituindo os exemplos.
	\RNF\label{rnf-exemplo-01} & Descrição sucinta. & Característica & Baixa \\\hline 	

	\RNF\label{rnf-exemplo-02} & Descrição sucinta. & de & Média \\\hline 	

	\RNF\label{rnf-exemplo-03} & Descrição sucinta. & qualidade & ou Alta \\\hline
\end{longtable}

